# Curated Search Skill Manifest
# OpenClaw skill definition

name: "curated-search"
version: "1.0.0"
description: "Domain-restricted full-text search over curated whitelist"
author: "Qrusher"
license: "MIT"

# Tool definitions
tools:
  - name: "search"
    description: "Search the curated index for technical documentation"
    parameters:
      - name: "query"
        type: "string"
        required: true
        description: "Search query terms"
      - name: "limit"
        type: "number"
        required: false
        default: 5
        description: "Maximum results (capped by config.max_limit)"
      - name: "domain"
        type: "string"
        required: false
        description: "Filter to specific domain (e.g., docs.python.org)"
      - name: "min_score"
        type: "number"
        required: false
        default: 0.0
        description: "Minimum relevance score (0.0-1.0)"
      - name: "offset"
        type: "number"
        required: false
        default: 0
        description: "Pagination offset"
    command: "node scripts/search.js"
    return_type: "json"
    timeout: 30
    success_exit_codes: [0]

# Dependencies (informational - not auto-installed by OpenClaw)
requirements:
  - "minisearch"
  - "minimist"
  - "yaml"
  - "robots-parser"
  - "node-fetch"
  - "jsdom"

# Setup instructions (for manual installation)
setup:
  - "npm install"
  - "npm run crawl   # optional: build initial index"
  - "echo 'Skill is ready once index is built'"

# Optional: config defaults can be overridden per-install
config:
  index:
    path: "data/index"
  search:
    default_limit: 10
    max_limit: 100
    min_score: 0.0
